pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

local g 

function _init()
    g = 0.025 --gravity
    make_player()
 end

function _update()
    move_player()
end

function _draw()
    cls()
    draw_stars()
    draw_player()
end

function make_player()
    p={}
    p.x=60 --position
    p.y=8
    p.dx=0 --movement
    p.dy=0
    p.sprite=1
    p.alive=true
    p.thrust=0.075
end

function draw_player()
    spr(p.sprite,p.x,p.y)
end

function move_player()
    p.dy+=g --add gravity
    thrust()
    p.x+=p.dx --actually move
    p.y+=p.dy --the player
    stay_on_screen()
end

function thrust()
    --add thrust to movement
    if (btn(0)) p.dx-=p.thrust
    if (btn(1)) p.dx+=p.thrust
    if (btn(2)) p.dy-=p.thrust
    --thrust sound
    if (btn(0) or btn(1) or btn(2)) sfx(0)
   end

function stay_on_screen()
    if (p.x<0) then --left side
        p.x=0
        p.dx=0
    end
    if (p.x>119) then --right side
        p.x=119
        p.dx=0
    end
    if (p.y<0) then --top side
        p.y=0
        p.dy=0
    end
end

function rndb(low,high)
    return flr(rnd(high-low+1)+low)
end

function draw_stars()
    srand(1)
    for i=1,50 do
        pset(rndb(0,127),rndb(0,127),rndb(5,7))
    end
    srand(time())
end

__gfx__
00000000006666000044440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066c766004f4444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006ccc7604f44454400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000066cccc664444445400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000665555664444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666604444544500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000050550500444445000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000660660660044450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000905002550000000000000000095500000003050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
